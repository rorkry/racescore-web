# RaceScore Web TODO

## 完了済み
- [x] オッズ関連機能の削除
- [x] EntryTable.tsxの大規模修正（印機能縮小、時計表示修正、着差・通過順位・巻き返し指数の表示）
- [x] 競うスコアと印の表示機能の実装
- [x] 競う指数タブの新規作成
- [x] PDF出力機能の実装

## 進行中
- [x] 開催地タブ内の競う指数表示の修正（評価コメント「めっちゃきそう」などを削除）

## 未着手
- [x] PDF出力機能の仕様変更（開催地ごとに全レースをまとめて出力）
- [x] PDF出力の日本語フォント対応（html2canvasを使用）
- [x] PDF出力とWebページの見やすさ改善（ランク上位の馬を赤系の色でマーク）
- [x] 競う指数タブのデザイン改善（参考画像に基づく）
  - ヘッダーを淡い青色に変更
  - カラム：馬番（枠番色）、印、得点、馬名、騎手、得点順
  - 得点セルの背景色グラデーション（高得点=赤、中得点=黄色、低得点=緑）
- [x] 動作確認とGitHubへのプッシュ

## 新規タスク（2024-12-18）
- [x] プロキシ設定の削除（next.config.ts）
- [x] 不要なAPIルート（trio）の外部サーバーフォールバック削除
- [x] Metadataの警告修正（generateViewport使用）
- [x] 動作確認（npm run dev）
- [x] GitHubへのプッシュ

## 新規タスク（2024-12-18 Windows対応）
- [x] lib/db.tsのreadonly: trueオプションを削除
- [x] データベース初期化処理を追加（CREATE TABLE）
- [x] app/api/odds/[raceKey]/route.tsを作成（DBから直接取得）
- [x] その他のAPIルートの外部サーバーfetchを削除（既に完了）
- [ ] 動作確認（npm run dev）
- [ ] GitHubへのプッシュ
